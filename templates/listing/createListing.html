<ion-view view-title="Create a Listing">
  <ion-content class="create-listing">
      <form name="listingForm" ng-submit="createListing(listingForm)" novalidate="true">
          <div class="list image-gallery">
              <div class="profile-camera" ng-click="showImageOptions()">
                <img ng-src="https://res.cloudinary.com/hotspot-online/image/upload/c_thumb,g_faces,q_80,r_max,w_50,h_50/v1444958061/assets/camera.png"/>
              </div>
              <image-slider images="listingImages" constructurl="'0'"></image-slider>
          </div>
          <div class="list">
              <!-- Listing Name -->
            <label class="item item-input" ng-class="{ 'has-errors' : listingForm.name.$invalid && listingForm.$submitted, 'no-errors' : listingForm.name.$valid}">
              Title <input type="text" name="name" ng-model="listing.name" ng-minlength="5" ng-maxlength="20" required placeholder="What are you listing ?">
            </label>

            <div class="error-container" ng-show="listingForm.name.$error  && listingForm.$submitted" ng-messages="listingForm.name.$error">
              <div ng-messages-include="error-list.html"></div>
            </div>

            <!-- Listing Description -->
            <div class="listing-field-label">
                Description
            </div>
            <label class="item item-input" ng-class="{ 'has-errors' : listingForm.description.$invalid && listingForm.$submitted, 'no-errors' :
            listingForm.description.$valid  && listingForm.$submitted}">
              <textarea type="text" name="description" placeholder="Describe what you are trying to sell .." rows="5" ng-model="listing.description" ng-minlength="5" ng-maxlength="200" required></textarea>
            </label>

            <div class="error-container last-error-container" ng-show="listingForm.description.$error && listingForm.$submitted" ng-messages="listingForm.description.$error">
                <div ng-messages-include="error-list.html"></div>
            </div>

            <div class="listing-field-label">
                Price
            </div>

            <!-- Listing Start Price -->
            <label class="item item-input" ng-class="{ 'has-errors' : listingForm.startPrice.$invalid && listingForm.$submitted, 'no-errors' : listingForm.startPrice.$valid  && listingForm.$submitted}">

              <input type="text" name="startPrice" ng-model="listing.startPrice" ng-minlength="1" ng-maxlength="20" placeholder="Start Price">
            </label>

            <div class="error-container last-error-container" ng-show="listingForm.startPrice.$error && listingForm.$submitted" ng-messages="listingForm.startPrice.$error">
                <div ng-messages-include="error-list.html"></div>
            </div>

            <!-- Listing Buy it now Price -->
            <label class="item item-input" ng-class="{ 'has-errors' : listingForm.price.$invalid && listingForm.$submitted, 'no-errors' : listingForm.price.$valid  && listingForm.$submitted}">

              <input type="text" name="price" ng-model="listing.price" ng-minlength="1" ng-maxlength="20" placeholder="Price">
            </label>

            <div class="error-container last-error-container" ng-show="listingForm.price.$error && listingForm.$submitted" ng-messages="listingForm.price.$error">
                <div ng-messages-include="error-list.html"></div>
            </div>

          </div>
          <!-- <div class="button-bar">
                <button type="button" class="button button-outline button-positive ion-ios-upload" name="uploadImages"> Upload Pictures</button>
                <button type="button" class="button button-outline button-balanced ion-android-share-alt" name="socialShare"> Share</button>
          </div> -->
          <button class="button button-full button-positive" type="submit">
            Create Listing
          </button>
      </form>
  </ion-content>
</ion-view>

  <script id="error-list.html" type="text/ng-template">
    <div class="error" ng-message="required">
      This field is required!
    </div>
    <div class="error" ng-message="minlength">
      Minimum length of this field is 5 characters!
    </div>
    <div class="error" ng-message="maxlength">
      Maximum length of this field is 20 characters!
    </div>
  </script>
